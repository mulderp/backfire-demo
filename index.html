<html>
<head>

  <script src="browser/bundle.js"></script>
  <script>
    var app = require("./index");
    var $ = app.$;
    var _ = app._;
    var Backbone = app.Backbone;

    var Movies = Backbone.Firebase.Collection.extend({
      firebase: "https://movies-demo.firebaseio.com/movies"
    });
    var moviesCollection = new Movies();

    var MoviesView = Backbone.View.extend({
      el: "#movies",
      render: function() {
        var movies = this.collection.map(function(movie) {
          return "<li>" + movie.get('title') + "</li>";
        });
        this.$el.html(movies);
        return this;
      },
      initialize: function() {
        this.listenTo(this.collection, 'add', this.render);
        this.listenTo(this.collection, 'all', function(ev) { console.log(ev) });
      }
    });

    $().ready(function() {
      var movies = new MoviesView({collection: moviesCollection});
      movies.render();
    });
  </script>

</head>

<body>

<h2>Firebase demo</h2>

<ul id="movies">
</ul>


</body>


</html>
